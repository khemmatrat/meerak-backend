# ==============================================
# Phase 3: Payment Gateway Configuration
# ==============================================

# Application URLs
APP_URL=http://localhost:3001
FRONTEND_URL=http://localhost:5173

# ==============================================
# Omise Configuration (PromptPay & TrueMoney)
# ==============================================

# Test Mode (Development)
OMISE_PUBLIC_KEY_TEST=pkey_test_5pqp6xztqmn5zk2puvf
OMISE_SECRET_KEY_TEST=skey_test_5pqp6xztwnpyj2vu5h3
OMISE_WEBHOOK_SECRET_TEST=whsec_test_c2a5e9b3d7f1a8c6e4b2d0

# Live Mode (Production)
OMISE_PUBLIC_KEY=pkey_live_xxxxxxxxxxxxxxxxxxxxx
OMISE_SECRET_KEY=skey_live_xxxxxxxxxxxxxxxxxxxxx
OMISE_WEBHOOK_SECRET=whsec_live_xxxxxxxxxxxxxxxxx

# ==============================================
# Stripe Configuration (Credit/Debit Cards)
# ==============================================

# Test Mode (Development)
STRIPE_PUBLISHABLE_KEY_TEST=pk_test_51P7gW1K6sx9YlL7T8VJqZyX8HjR4tQw9
STRIPE_SECRET_KEY_TEST=STRIPE_SECRET_KEY_TEST=sk_test_51P7gW1K6sx9YlL7T8VJqZyX8HjR4tQw9
STRIPE_WEBHOOK_SECRET_TEST=whsec_test_51P7gW1K6sx9YlL7T8VJqZyX8HjR4tQw9

# Live Mode (Production)
STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxxxxxxxxxxx
STRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_live_xxxxxxxxxxxxxxxxx

# ==============================================
# Payment Settings
# ==============================================

# Timeout for QR code payments (seconds)
PAYMENT_TIMEOUT=900

# Platform fee percentage (e.g., 5 = 5%)
PLATFORM_FEE_PERCENT=5

# Minimum platform fee (THB)
PLATFORM_MIN_FEE=10

# Maximum platform fee (THB)
PLATFORM_MAX_FEE=1000

# ==============================================
# Webhook URLs (Update these in production)
# ==============================================

# Omise webhook URL (register in Omise dashboard)
WEBHOOK_URL_OMISE=https://yourdomain.com/api/payment-gateway/webhook/omise

# Stripe webhook URL (register in Stripe dashboard)
WEBHOOK_URL_STRIPE=https://yourdomain.com/api/payment-gateway/webhook/stripe

# TrueMoney callback URL
CALLBACK_URL_TRUEMONEY=https://yourdomain.com/api/payment-gateway/callback

# ==============================================
# Redis Configuration (for webhook idempotency)
# ==============================================

REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# ==============================================
# Database Configuration
# ==============================================

DB_HOST=localhost
DB_PORT=5432
DB_NAME=meerak
DB_USER=postgres
DB_PASSWORD=yourpassword

# ==============================================
# Email Notifications (optional)
# ==============================================

# SendGrid
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxx
SENDGRID_FROM_EMAIL=noreply@meerak.app
SENDGRID_FROM_NAME=Meerak Platform

# AWS SES (alternative)
AWS_SES_REGION=ap-southeast-1
AWS_SES_ACCESS_KEY=AKIA...
AWS_SES_SECRET_KEY=...

# ==============================================
# SMS Notifications (optional)
# ==============================================

# Twilio
TWILIO_ACCOUNT_SID=AC...
TWILIO_AUTH_TOKEN=...
TWILIO_PHONE_NUMBER=+66...

# ==============================================
# Monitoring & Logging
# ==============================================

# Log level
LOG_LEVEL=info

# Enable payment logging
PAYMENT_LOG_ENABLED=true

# Alert email for payment failures
PAYMENT_ALERT_EMAIL=finance@meerak.app

# ==============================================
# Security
# ==============================================

# API rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# JWT secret (if needed)
JWT_SECRET=your-super-secret-jwt-key-change-this

# ==============================================
# Feature Flags
# ==============================================

# Enable/disable gateways
ENABLE_PROMPTPAY=true
ENABLE_STRIPE=true
ENABLE_TRUEMONEY=true

# Test mode (set to 'false' in production)
NODE_ENV=development
